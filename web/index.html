<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
        crossorigin="anonymous">

    <link rel="icon" href="resources/favicon.ico">
    <link rel="stylesheet" href="css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!--<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>-->
    <script type="text/javascript" src="scripts/vars.js"></script>
    <script src="scripts/index.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>

    <title>Let's go on a Magic Carpet Ride~</title>
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg fixed-top shadow navbar-light bg-white">
        <div class="container-fluid">
            <div class="d-flex align-items-center">
                <a href="main.html" class="navbar-brand py-1" target="content">
                    <img id="logo" src="resources/icon.png" alt="Flying Carpet Logo">
                    <span id="logo-text">Magic-Rides</span>
                </a>

                <!--ADD SEARCH ACTION
                <form action="#" id="search" class="form-inline d-none d-sm-flex">
                    <div class="input-label-absolute input-label-absolute-left input-reset input-expand ml-lg-2 ml-xl-3">
                        <input id="search_search" placeholder="Search" aria-label="Search" class="form-control">
                    </div>
                </form>-->

            </div>
            <!-- If logged in - "Hello <username>" -->
            <span id="notLoggedIn" class="text-absolute-right">
                <button id="loginButton" onclick="document.getElementById('id01').style.display='block'">Log in </button>
                <span class="divider">|</span>
                <a href="signup.html" class="button">Register</a>
            </span>
            <span id="loggedIn" class="text-absolute-right">Hello user-here</span>
        </div>

        <div id="id01" class="modal">

            <form class="modal-content animate" action="">
                <div class="imgcontainer">
                    <span onclick="document.getElementById('id01').style.display='none'" class="close" title="Close Modal">&times;</span>
                    Hello, good to see you~
                </div>

                <div class="container">

                    <input id="username" type="text" placeholder="Enter Username">

                    <input id="password" type="password" placeholder="Enter Password">

                    <button id="forumButton" type="button">Login</button>
                    <label>

                    </label>
                </div>

                <div class="container" style="background-color:#f1f1f1">
                    <button id="forumButton2" type="button" onclick="document.getElementById('id01').style.display='none'" class="cancelbtn">Cancel</button>

                </div>
            </form>
        </div>
    </nav>

    <iframe id="content" name="content" src="main.html" frameborder="0" width="100%" height="1000px" marginheight="0" marginwidth="0" align="middle"></iframe>

    <!-- Footer -->
    <div class="footer">
        Â© 2019 Magic Carpet Rides. All rights reserved.
    </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <!--
        <script>
            // Get the modal
            //var modal = document.getElementById('id01');

            // When the user clicks anywhere outside of the modal, close it
            window.onclick = function(event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }
        </script>

    <script>
        $(document).ready(function() {
        function begin2() {
            var username = $('#username').val();
            var password = $('#password').val();
            console.log(username + "username");
            console.log(password + "password");
        $.ajax({
            url: 'http://192.168.250.37:8080/api/users',
            async: true,
            success: successCallback,
            error: errorCallback
        });


        function successCallback(response) {
            var object = response;
            let ok = false;
            console.log(response);
            console.log(object.username + "---------")
            object.forEach(element => {
                console.log(element.username);
                console.log(password)
                console.log(element.password)
            if(element.username == username && element.password == password){
                alert("correct!")
                ok=true;
                isLogedIn = true;
                currentUserId = element.id;
                return null;
            }});
            if(!ok){
                alert("incorrect");
            }

        }

        function errorCallback(request, status, error) {
            console.log('Deu ruim, Baby!');
            console.log(request);
            console.log(status);
            console.log(error);
        }}
    });
    </script>

    <script>
        $(document).ready(function() {
            if(isLogedIn) {
                $('#loggedIn').show();
                $("#notLoggedIn").hide();
            }
            else{
                $("#notLoggedIn").show();
                $('#loggedIn').hide()
            }
        });
    </script>-->


</body>

</html>